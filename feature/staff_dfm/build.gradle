import dependencies.Versions
import dependencies.Dep

apply plugin: 'com.android.dynamic-feature'
apply plugin: 'kotlin-android'
apply plugin: 'kotlin-kapt'

android {
    compileSdkVersion Versions.androidCompileSdkVersion
    defaultConfig {
        minSdkVersion Versions.androidMinSdkVersion
        targetSdkVersion Versions.androidTargetSdkVersion
    }

    signingConfigs {
        debug {
            keyAlias 'droidkaigi_debug'
            keyPassword 'droidkaigi'
            storeFile file("${project.rootDir}/frontend/android/debug.keystore")
            storePassword 'droidkaigi'
        }
    }

    dataBinding {
        enabled true
    }
}

dependencies {
    implementation project(':frontend:android')

    implementation project(':corecomponent:androidcomponent'), excludeKotlinMPPLibs
    implementation project(":data:repository"), excludeKotlinMPPLibs
    implementation project(":feature:system"), excludeKotlinMPPLibs
    implementation project(":model"), excludeKotlinMPPLibs

    implementation Dep.Kotlin.stdlibJvm
    implementation Dep.AndroidX.design
    implementation Dep.AndroidX.constraint
    implementation Dep.AndroidX.coreKtx

    implementation Dep.InjectedVmProvider.extension
    implementation Dep.InjectedVmProvider.injectedVmProvider
    implementation Dep.InjectedVmProvider.ktx

    implementation Dep.AndroidX.recyclerView
    implementation Dep.Kotlin.coroutines, excludeKotlinMPPLibs
    implementation Dep.liveDataKtx

    implementation Dep.Groupie.groupie
    implementation Dep.Groupie.databinding

    implementation Dep.Picasso.picasso
    implementation Dep.Picasso.picassoTransformation

    implementation Dep.Dagger.core
    implementation Dep.Dagger.androidSupport
    kapt Dep.Dagger.compiler
    kapt Dep.Dagger.androidProcessor
    compileOnly Dep.Dagger.assistedInjectAnnotations
    kapt Dep.Dagger.assistedInjectProcessor

    testImplementation Dep.Test.junit
    testImplementation Dep.MockK.jvm
    androidTestImplementation Dep.Test.testRunner
    androidTestImplementation Dep.Test.espressoCore
}
